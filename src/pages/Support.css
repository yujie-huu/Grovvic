/* ========== Base / Reset-ish ========== */
:root{
  --page-bg: #ffffff;
  --text-dark: #111827;
  --link-blue: #2563eb;
  --green-700: #15803d;
  --shadow-sm: 0 1px 3px rgba(0,0,0,0.05);
  --shadow-md: 0 4px 8px rgba(0,0,0,0.1);
}

*{ box-sizing: border-box; }
img{ max-width:100%; height:auto; display:block; }

/* Only enable hover styles on devices that support it */
@media (hover: hover){
  .support-link:hover{ background-color:#f9fafb; box-shadow:var(--shadow-sm); }
  .local-program-card a:hover{ text-decoration: underline; }
}

/* Smooth scrolling downgrade for users with reduced motion */
@media (prefers-reduced-motion: reduce){
  .local-communities-track{ scroll-behavior: auto; }
}

/* ========== Page framework ========== */
.support-page{ font-family: Arial, sans-serif; background: var(--page-bg); color: var(--text-dark); }

/* ========== Hero ========== */
/* Hero Section */
.support-hero {
  height: 500px; /* Adjust height to match screenshot */
  background-size: cover;
  background-position: center;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
}

.support-hero-content {
  padding: 40px 20px;
  max-width: 1400px;
}

.support-hero h1 {
  font-size: 4rem;
  margin-bottom: 10px;
  font-weight: 2000;
  color: white;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}

.support-hero p {
  font-size: 1.8rem;
  color: white;
  line-height: 1.6;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}


/* ========== FAQ Title and Layout ========== */
/* FAQ Title */
.support-section h2 {
  font-size: clamp(1.8rem, 2.2vw, 2.2rem);
  font-weight: 700;
  margin-top: 4rem;           /* ‚úÖ Control the distance between FAQ and previous section */
  margin-bottom: 4rem;        /* ‚úÖ Title and content spacing */
  color: var(--text-dark);
  position: relative;          
  z-index: 1;
  text-align: center;
}

/* FAQ Main Layout */
.support-faq-grid {
  display: grid;
  grid-template-columns: 520px 540px;  /* ‚úÖ Slightly wider, to balance left and right */
  justify-content: center;
  align-items: start;
  gap: 2.5rem;
  margin: -2rem auto 6rem auto;            /* ‚úÖ Center + bottom margin */
  max-width: 1150px;
  position: relative;                  /* ‚úÖ Only effective for this part of the offset */
  top: 20px;                           /* ‚úÖ Entire FAQ moves down, not affecting other areas */
}

/* FAQ List (left) */
.support-links {
  list-style: none;
  padding: 0;
  justify-self: end;
}

/* Image Card (right) */
.faq-right {
  display: flex;
  justify-content: flex-start;         /* ‚úÖ Move left towards center */
  align-items: flex-start;
  margin-right: 0;
  margin-top: -2rem;                 /* ‚úÖ Image slightly upward, align with FAQ content */
}

.faq-side-image {
  max-width: 540px;
  width: 100%;
  height: auto;
  border: 2px solid var(--link-blue);
  border-radius: 14px;
  box-shadow: var(--shadow-md);
  object-fit: contain;
}


.support-link{
  display:flex; align-items:center; justify-content:space-between;
  width: 450px; max-width: 90vw;
  background:#fff; border:1px solid #e5e7eb; border-radius:10px;
  padding:12px 16px; margin-bottom:12px; font-size:1rem; color:var(--text-dark);
  cursor:pointer; transition: background-color .2s ease, box-shadow .2s ease;
}
.support-link .left{ display:flex; align-items:center; gap:10px; }
.support-link .dot{ width:12px; height:12px; background-color:#15803d; border-radius:50%; }
.support-link .text{ font-weight:500; }
.support-link .chevron{
  width:6px; height:6px; border-right:2px solid #6b7280; border-bottom:2px solid #6b7280;
  transform: rotate(-45deg); transition: transform .2s ease;
}
.support-link.is-open .chevron{ transform: rotate(45deg); }

.faq-questions{ list-style:none; padding-left:1.5rem; margin:.5rem 0 1rem 0; border-left:2px dashed #e5e7eb; }
.question-link{ display:block; width:100%; text-align:left; background:none; border:none; padding:8px 0; font-size:.95rem; color:#374151; cursor:pointer; }
.question-link:hover{ color: var(--link-blue); }

/* Answer Block */
.answer{
  background:#e5e7eb; padding:10px 16px; margin:4px 0 12px 0; border-radius:8px;
  width:100%; max-width: 420px; box-sizing:border-box;
}
.answer ol{ margin:0; padding-left:1.2rem; }
.answer ol li{ font-size:.95rem; color:#374151; line-height:1.6; list-style:decimal; }

/* ========== Local Programs Section ========== */
.local-programs-section{
  background-color:#14532d; text-align:center;
  padding-top:3rem; padding-bottom:3rem;
  padding-left: 2rem; padding-right: 2rem; /* ‚úÖ Fix syntax */
  position:relative; height:300px; margin-bottom:10rem;
}

.local-programs-header p{ color:#fff; font-size:.9rem; letter-spacing:2px; margin-bottom:.5rem; }
.local-programs-header h2{ color:#fff; font-size:1.8rem; font-weight:bold; margin:0; }

.local-programs-cards{
  display:flex; justify-content:space-between; align-items:stretch;
  margin:0 auto; padding:0 5%; flex-wrap:nowrap;
}

.local-program-card{
  background:#fff; border-radius:10px; box-shadow: var(--shadow-md);
  padding:1.5rem; flex:1; margin:0 .75rem;
  max-width:220px; min-width:180px; text-align:left; position:relative; height:320px; top:2.5rem;
  display:flex; flex-direction:column; justify-content:space-between; overflow:visible;
}
.local-program-body{ display:flex; flex-direction:column; gap:.75rem; flex:1; min-height:0;  }
.local-program-body::-webkit-scrollbar{ display:none; }

.local-program-card img{
  width:auto; height:auto; max-width:100%; max-height:80px; object-fit:contain;
  margin:0 auto .5rem;
}
.local-program-card h3{ font-size:1rem; font-weight:bold; margin: 0px 0 -.5rem 0; }
.local-program-card p{
  font-size:.9rem; color:#666; margin:.0 0 1rem 0; flex:1; overflow-y:auto; scrollbar-width:none;
}
.local-program-card p::-webkit-scrollbar{ display:none; }

/* Image container: fixed height, center alignment */
.local-program-image-container {
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 0.5rem;
}

/* Text container: take up remaining space, internal arrangement from top */
.local-program-text {
  display: flex;
  flex-direction: column;
  flex: 1;
  overflow-y: auto;
  scrollbar-width: none;
}
.local-program-text::-webkit-scrollbar {
  display: none;
}


.local-program-card a{ color:var(--link-blue); font-weight:bold; font-size:.9rem; text-decoration:none; }
.local-program-divider{ width:100%; height:1px; background:#e5e7eb; margin:1rem 0; }
.local-program-link{ color:var(--link-blue); font-weight:600; text-transform:uppercase; font-size:.85rem; text-decoration:none; transition:color .2s ease; }
.local-program-link:hover{ color:#1e40af; }

/* ========== Local Gardening Communities ========== */
.local-communities-section{
  text-align:center; padding-top:3rem; padding-bottom:3rem;
  margin:3rem 0 1rem; height:auto; overflow:visible; position:relative; z-index:2;
}

/* Title */
.local-communities-header h2{
  color:#111; font-size: clamp(1.6rem, 2.4vw, 1.8rem); font-weight:bold; margin:1rem 0 2.5rem 0;
}

/* Left and right fade mask (color follows page background) */
.local-communities-section::before,
.local-communities-section::after{
  content:""; position:absolute; top:0; width:60px; height:100%;
  pointer-events:none; z-index:3;
}
.local-communities-section::before{
  left:0; background: linear-gradient(to right, var(--page-bg) 30%, transparent 100%);
}
.local-communities-section::after{
  right:0; background: linear-gradient(to left, var(--page-bg) 30%, transparent 100%);
}

/* Scroll track */
.local-communities-track{
  display: flex;
  justify-content: space-evenly; /* üëà Key: even spacing */
  align-items: flex-start;
  gap: 0; /* Ensure spacing is fully controlled by space-evenly */
  overflow-x: hidden; 
  padding: 0 20px; /* Optional: add left and right padding, make the overall more centered */
  width: 100%;
  box-sizing: border-box;
}
.local-communities-track::-webkit-scrollbar{ display:none; }

.local-communities-track{ cursor: grab; }
.local-communities-track:active{ cursor: grabbing; }

.community-card-img{ width:100%; height:auto; max-height:80px; object-fit:contain; margin-bottom:.75rem; }

.local-communities-section .local-program-card{
  top:0; display:flex; flex-direction:column; justify-content:space-between;
  height:300px; flex: 0 0 220px; scroll-snap-align:start;
}

/* Community Map Section */
.support-community-map {
  padding: 40px 0;
  text-align: center;
  width: 100%; /* Ensure container itself has enough width */
  margin-bottom: 100px;
  margin-top: 10px;
}

.support-community-map img {
  width: 100%;           /* Force to fill */
  height: 600px;
  object-fit: cover;     /* Crop and keep ratio */
  object-position: center;
  border-radius: 0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  display: block;        /* Avoid bottom white space */
}

/* Community Garden Map Section */
.community-garden-map-section {
  position: relative;
  width: 100%;
  min-height: 300px; /* Decrease overall height */
  overflow: visible;
  background: white; /* Ensure the bottom part is white background */
}

/* Background image layer */
.map-background-image {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 400px; /* Decrease background image height */
  z-index: 1;
  overflow: hidden;
}

.map-background-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
}

/* Map content layer */
.map-content-wrapper {
  position: relative;
  z-index: 2;
  padding: 30px 0px 0px;
  max-width: 1100px;
  margin: 0 auto;
}

.map-content-wrapper h2 {
  text-align: center;
  margin-top: 30px;
  margin-bottom: 25px;
  font-size: 30px;
  color: white;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
  font-weight: 500;
}

/* Search bar overlay - floating on top of the map */
.garden-search-overlay {
  position: absolute;
  top: 20px; /* Distance from the map container top */
  left: 50%;
  transform: translateX(-50%); /* Center horizontally */
  z-index: 1000; /* Ensure it is above the map */
  width: 90%;
  max-width: 500px;
}

/* Search container - semi-transparent effect */
.garden-search-container {
  display: flex;
  align-items: center;
  gap: 10px;
  background: rgba(255, 255, 255, 0.85);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  padding: 4px 12px;
  border-radius: 0;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
  transition: all 0.3s ease;
}

.garden-search-container:hover {
  background: rgba(255, 255, 255, 0.95);
  box-shadow: 0 6px 25px rgba(0, 0, 0, 0.2);
}

/* Search icon */
.garden-search-icon {
  font-size: 18px;
  margin-left: 8px;
  color: #666;
  flex-shrink: 0;
}

/* Search input box */
.garden-search-input {
  flex: 1;
  padding: 10px 12px;
  border: none;
  background: transparent;
  border-radius: 25px;
  font-size: 15px;
  outline: none;
  color: #333;
}

.garden-search-input::placeholder {
  color: #999;
}

/* Search button - icon style */
.garden-search-btn {
  width: 40px;
  height: 40px;
  padding: 0;
  background-color: transparent;
  color: white;
  border: none;
  border-radius: 50%;
  cursor: pointer;
  font-size: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
  flex-shrink: 0;
}

.garden-search-btn:hover {
  background-color: transparent;
  transform: scale(1.1);
  box-shadow: 0 4px 12px rgba(76, 175, 80, 0.4);
}

/* Map container - key: decrease height */
.map-container-wrapper {
  width: 100%;
  height: calc(100vh - 240px); /* Keep the height you modified before */
  border-radius: 0px;
  overflow: hidden; 
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
  background: white;
  position: relative; 
  margin-bottom: 80px;
}

.garden-search-sticky {
  position: sticky;
  top: 0; /* Fixed on top */
  z-index: 1000; /* Ensure it is above the map and other elements */
  padding: 10px;
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(5px);
}

/* Search container - semi-transparent effect */
.garden-search-container {
  display: flex;
  align-items: center;
  gap: 10px;
  background: transparent;
  padding: 1.5px 12px;
  border-radius: 0px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
  transition: all 0.3s ease;
  width: 90%;
  max-width: 500px;
  margin: 0 60px;
}

/* Leaflet map style */
.map-container-wrapper .leaflet-container {
  border-radius: 0px;
  height: 100% !important;
  width: 100% !important;
}

/* Force hide Leaflet default zoom control in the top left corner */
.map-container-wrapper .leaflet-top.leaflet-left > *:first-child {
  display: none !important;
}

/* Responsive design */
@media (max-width: 768px) {
  .community-garden-map-section {
    min-height: 600px;
  }

  .map-background-image {
    height: 260px;
  }

  .map-content-wrapper {
    padding: 25px 15px 0px;
  }

  .map-content-wrapper h2 {
    font-size: 30px;
    margin-bottom: 10px;
  }

  .map-container-wrapper {
    height: 380px;
  }

  .garden-search-container {
    flex-direction: column;
    max-width: 90%;
  }

  .garden-search-btn {
    width: 100%;
  }
}



/* searchresults sidebar */
.sidebar-panel {
  position: absolute;
  top: 0;
  left: 0;
  width: 30%;
  height: 100%;
  /* Use the same background effect as the search bar */
  background: transparent;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  overflow-y: auto;
  overflow-x: hidden;
  z-index: 999;

}

/* when input confirmed */
.sidebar-panel.locked {
  background: tansparent;
}

/* Sidebar header */
.sidebar-header {
  padding: 8px 12px;
  margin: -5px;

  border-radius: 50px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sidebar-header h3 {
  margin: 0;
  font-size: 16px;
  color: #333;
  font-weight: 500;
}

.sidebar-panel::-webkit-scrollbar {
  width: 4px; 
}

/* Scrollbar thumb */
.sidebar-panel::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.3);
  border-radius: 3px;
}

/* Sidebar content */
.sidebar-content {
  padding: 10px 0;
  margin-top: 10px;
}

.sidebar-item {
  padding: 6px 20px;
  cursor: pointer;
  transition: background-color 0.2s ease;
  border-radius: 2px;
  margin: 0 10px 5px 10px;
}

.sidebar-item:hover {
  /* background: rgba(240, 240, 240, 0.5); */
  background: rgba(245, 245, 245, 0.7);
}

.sidebar-item h4 {
  margin: 0 0 3px 0;
  font-size: 15px;
  font-weight: 600;
  color: #333;
}

.sidebar-item p {
  margin: 0;
  font-size: 13px;
  color: #666;
  line-height: 1.3;
}


/* Responsive design */
@media (max-width: 768px) {
  .map-background-image {
    height: 250px;
  }

  .map-content-wrapper h2 {
    font-size: 32px;
  }

  .map-container-wrapper {
    height: 450px;
  }

  .garden-search-container {
    flex-direction: column;
  }

  .garden-search-btn {
    width: 100%;
  }
}

/* ========== Responsive optimization ========== */

/* ‚â•1280px: make the FAQ right image more loose, the three card area is centered and stable */
@media (min-width: 1280px){
  .support-faq-grid{ grid-template-columns: minmax(0,1fr) 520px; }
  .faq-side-image{ max-width: 560px; }
}

/* ‚â§1200px: FAQ title and right image margin tighten; Programs area height slightly reduced */
@media (max-width: 1200px){
  .support-section h2{ margin-left: clamp(2rem, 6vw, 6rem); }
  .faq-right{ margin-right: clamp(0rem, 6vw, 8rem); }
  .local-programs-section{ height: 280px; }
}

/* ‚â§1024px: FAQ two columns become one column stacked; picture down; three card scrolling still preserved */
@media (max-width: 1024px){
  .support-faq-grid{ grid-template-columns: 1fr; }
  .faq-right{ order: 2; margin: 1rem auto 0; }
  .support-links{ margin-left: clamp(1rem, 6vw, 4rem); }
  .support-link{ width: min(560px, 92vw); }
  .answer{ max-width: min(560px, 92vw); }
  .local-programs-section{ height:auto; padding-bottom: 4rem; }
}

/* ‚â§768px: overall left and right margin shrink, three card area adapt to screen width, still can slide horizontally */
@media (max-width: 768px){
  .support-section h2{ margin-left: 1.25rem; margin-top: 4rem; }
  .support-links{ margin: 1rem 1.25rem 0 1.25rem; }
  .support-hero{ height: 64vh; }
  .local-communities-track{
    max-width: min(100%, calc(3 * 220px + 2rem)); /* Áï•Áº©‰∏âÂç°ÂÆΩÂ∫¶ */
  }
  .local-communities-section::before,
  .local-communities-section::after{ width: 36px; }
}

/* ‚â§600px: button and card further tighten; title shrink; Programs area card height reduced */
@media (max-width: 600px){
  .support-link{ width: 100%; }
  .answer{ max-width: 100%; }
  .local-program-card{ height: 300px; }
  .local-communities-section .local-program-card{ height: 280px; flex: 0 0 200px; }
  .local-communities-track{ gap: .75rem; }
}

/* ‚â§480px: single-hand operation friendly; mask narrow; three card container fills the screen width */
@media (max-width: 480px){
  .support-hero{ padding-left: 1rem; }
  .support-hero h1{ font-size: clamp(1.6rem, 6vw, 2rem); }
  .support-hero p{ font-size: 1rem; }
  .local-communities-section::before,
  .local-communities-section::after{ width: 24px; }
  .local-communities-track{ max-width: 100%; padding: 0 .5rem; }
  .local-communities-section .local-program-card{ flex: 0 0 180px; height: 260px; }
}
