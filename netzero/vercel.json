{
  "routes": [
    { "src": "/api/(.*)", "dest": "/api/$1" },

    {
      "src": "/(.*)",
      "has": [{ "type": "cookie", "key": "auth", "value": "1" }],
      "dest": "/$1"
    },

    {
      "src": "/(.*)",
      "has": [{ "type": "header", "key": "authorization", "value": ".+" }],
      "dest": "/api/basic-auth?path=$1"
    },

    {
      "src": "/(.*)",
      "status": 401,
      "headers": [
        { "key": "WWW-Authenticate", "value": "Basic realm=\"Secure Area\"" }
      ]
    }
  ]
}
